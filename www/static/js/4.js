webpackJsonp([4,10],{106:function(e,t,o){t=e.exports=o(29)(),t.push([e.i,"\n.history{padding:20px;overflow:hidden;zoom:1\n}\n.history .el-textarea__inner{resize:none\n}\n.history .team{width:45%;padding:30px 20px 0;border:1px solid #eee;border-radius:4px;box-shadow:1px 1px 15px rgba(0,0,0,0.1);float:left;margin:3% 2%;height:320px\n}\n.history .add{margin-left:2%\n}\n.history .mark_ly{position:fixed;width:100%;height:100%;background:#000;opacity:0.4;left:0;top:0\n}\n.history .newHistory{position:fixed;width:500px;height:100%;right:0px;top:0;background:#fff\n}\n.history .newHistory .breadcrumb{padding:20px 20px 0;height:60px;border-bottom:1px solid #eee;width:100%\n}\n.history .newHistory .breadcrumb span{font-size:16px\n}\n.history .newHistory .newFoem{padding:30px\n}\n.history .newHistory .newFoem .notice{position:absolute;bottom:0;right:0;width:100%;padding:20px\n}\n.history .adderror{line-height:normal;opacity:1\n}\n.bounce-enter-active{-webkit-animation:bounce-in .5s;animation:bounce-in .5s\n}\n.bounce-leave-active{-webkit-animation:bounce-out .5s;animation:bounce-out .5s\n}\n@-webkit-keyframes bounce-in{\nfrom{opacity:0\n}\nto{opacity:0.4\n}\n}\n@keyframes bounce-in{\nfrom{opacity:0\n}\nto{opacity:0.4\n}\n}\n@-webkit-keyframes bounce-out{\nfrom{opacity:0.4\n}\nto{opacity:0\n}\n}\n@keyframes bounce-out{\nfrom{opacity:0.4\n}\nto{opacity:0\n}\n}\n.move-enter-active{-webkit-animation:move-in 0.5s;animation:move-in 0.5s\n}\n.move-leave-active{-webkit-animation:move-out 0.5s;animation:move-out 0.5s\n}\n@-webkit-keyframes move-in{\nfrom{right:-500px\n}\nto{right:0px\n}\n}\n@keyframes move-in{\nfrom{right:-500px\n}\nto{right:0px\n}\n}\n@-webkit-keyframes move-out{\nfrom{right:0px\n}\nto{right:-500px\n}\n}\n@keyframes move-out{\nfrom{right:0px\n}\nto{right:-500px\n}\n}\n.errorMove-enter-active{-webkit-animation:errorMove-in .5s;animation:errorMove-in .5s\n}\n.errorMove-leave-active{-webkit-animation:errorMove-out .5s;animation:errorMove-out .5s\n}\n@-webkit-keyframes errorMove-in{\nfrom{opacity:0\n}\nto{opacity:1\n}\n}\n@keyframes errorMove-in{\nfrom{opacity:0\n}\nto{opacity:1\n}\n}\n@-webkit-keyframes errorMove-out{\nfrom{opacity:1\n}\nto{opacity:0\n}\n}\n@keyframes errorMove-out{\nfrom{opacity:1\n}\nto{opacity:0\n}\n}\n",""])},114:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"history"},[o("div",{staticClass:"add"},[o("el-button",{attrs:{type:"text"},on:{click:e.showAdd}},[e._v("+添加新历史")])],1),e._v(" "),e._l(e.history,function(t,n){return o("div",{staticClass:"team"},[o("el-form",{ref:"form",refInFor:!0,attrs:{model:t,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"发生日期"}},[o("el-date-picker",{attrs:{align:"right",type:"datetime",format:"yyyy-MM-dd",placeholder:"请选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"item.date"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"事件描述"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.info,callback:function(e){t.info=e},expression:"item.info"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",loading:t.editLoading},on:{click:function(t){e.editHistory(n)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"danger",loading:t.delLoading},on:{click:function(t){e.delHistory(n)}}},[e._v("删除")])],1),e._v(" "),o("el-form-item",[o("transition",{attrs:{name:"errorMove"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isNotice,expression:"item.isNotice"}],staticClass:"adderror"},[o("el-alert",{attrs:{title:t.msg,closable:!1,type:t.type,"show-icon":""}})],1)])],1)],1)],1)}),e._v(" "),o("transition",{attrs:{name:"bounce"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"mark_ly",class:e.show?"active":""})]),e._v(" "),o("transition",{attrs:{name:"move"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"newHistory",class:e.show?"active":""},[o("div",{staticClass:"breadcrumb"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[e._v("添加团队成员")])],1)],1),e._v(" "),o("div",{staticClass:"newFoem"},[o("el-form",{ref:"form",attrs:{model:e.newHistory,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"发生日期"}},[o("el-date-picker",{attrs:{align:"right",type:"datetime",format:"yyyy-MM-dd",placeholder:"请选择日期"},model:{value:e.newHistory.date,callback:function(t){e.newHistory.date=t},expression:"newHistory.date"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"事件描述"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.newHistory.info,callback:function(t){e.newHistory.info=t},expression:"newHistory.info"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",loading:e.newHistory.loading},on:{click:e.addTeam}},[e._v("添加")]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:e.cancelAdd}},[e._v("取消")])],1),e._v(" "),o("el-form-item",[o("transition",{attrs:{name:"errorMove"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.newHistory.isNotice,expression:"newHistory.isNotice"}],staticClass:"adderror"},[o("el-alert",{attrs:{title:e.newHistory.msg,closable:!1,type:e.newHistory.type,"show-icon":""}})],1)])],1)],1),e._v(" "),o("div",{staticClass:"notice"})],1)])])],2)},staticRenderFns:[]}},123:function(e,t,o){var n=o(106);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),o(30)("60e6fa94",n,!0)},80:function(e,t,o){o(123);var n=o(28)(o(96),o(114),null,null);e.exports=n.exports},85:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */
!function(e,t,o){void 0!==module&&module.exports?module.exports=o():(__WEBPACK_AMD_DEFINE_FACTORY__=o,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,o){return function(){return e._aborted?o(e.request):e._timedOut?o(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):o(e.request)))}}function setHeaders(e,t){var o,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var s="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||s||(n[contentType]=t.contentType||defaultHeaders.contentType);for(o in n)n.hasOwnProperty(o)&&"setRequestHeader"in e&&e.setRequestHeader(o,n[o])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,o,n){var s=uniqid++,r=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(s),a=new RegExp("((^|\\?|&)"+r+")=([^&]+)"),c=n.match(a),l=doc.createElement("script"),u=0,d=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return c?"?"===c[3]?n=n.replace(a,"$1="+i):i=c[3]:n=urlappend(n,r+"="+i),context[i]=generalCallback,l.type="text/javascript",l.src=n,l.async=!0,void 0===l.onreadystatechange||d||(l.htmlFor=l.id="_reqwest_"+s),l.onload=l.onreadystatechange=function(){if(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u)return!1;l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),u=1},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,o({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var o,n=this.o,s=(n.method||"GET").toUpperCase(),r="string"==typeof n?n:n.url,i=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,a=!1;return"jsonp"!=n.type&&"GET"!=s||!i||(r=urlappend(r,i),i=null),"jsonp"==n.type?handleJsonp(n,e,t,r):(o=n.xhr&&n.xhr(n)||xhr(n),o.open(s,r,n.async!==!1),setHeaders(o,n),setCredentials(o,n),context[xDomainRequest]&&o instanceof context[xDomainRequest]?(o.onload=e,o.onerror=t,o.onprogress=function(){},a=!0):o.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(o),a?setTimeout(function(){o.send(i)},200):o.send(i),o)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,o){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=o,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,o);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var o,n,s,r,i=e.name,a=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&i)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(o=/checkbox/i.test(e.type),n=/radio/i.test(e.type),s=e.value,(!(o||n)||e.checked)&&t(i,normalize(o&&""===s?"on":s)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(r=0;e.length&&r<e.length;r++)e.options[r].selected&&c(e.options[r])}}function eachFormElement(){var e,t,o=this,n=function(e,t){var n,s,r;for(n=0;n<t.length;n++)for(r=e[byTag](t[n]),s=0;s<r.length;s++)serial(r[s],o)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,o),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,o){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(o)):e[t]=o},arguments),e}function buildParams(e,t,o,n){var s,r,i,a=/\[\]$/;if(isArray(t))for(r=0;t&&r<t.length;r++)i=t[r],o||a.test(e)?n(e,i):buildParams(e+"["+("object"==typeof i?r:"")+"]",i,o,n);else if(t&&"[object Object]"===t.toString())for(s in t)buildParams(e+"["+s+"]",t[s],o,n);else n(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(93)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,o){e.push({name:t,value:o})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,o=Array.prototype.slice.call(arguments,0);return e=o.pop(),e&&e.nodeType&&o.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,o)},reqwest.toQueryString=function(e,t){var o,n,s=t||!1,r=[],i=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,r[r.length]=i(e)+"="+i(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)a(e[n].name,e[n].value);else for(o in e)e.hasOwnProperty(o)&&buildParams(o,e[o],s,a);return r.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},86:function(e,t,o){"use strict";var n=o(89),s=o(90),r=o(92),i=o(88),a=o(87),c=o(91);t.a={loginAction:n.a,logoutAction:n.b,menulistAction:s.a,teamAction:r.a,editteamAction:r.b,historyAction:i.a,edithistoryAction:i.b,userlistAction:a.a,edituserAction:a.b,resetpasswdAction:a.c,getselfinfoAction:c.a,editselfinfoAction:c.b,resetselfpasswdAction:c.c}},87:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"c",function(){return c});var r="",i=function(e,t){s()({method:"post",url:r+"/home/admin/userlist",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json"}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},a=function(e,t){s()({method:"post",url:r+"/home/admin/edituser",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{name:t.name,username:t.username,address:t.address,mobile:t.mobile,password:t.password,type:t.type,uuid:t.uuid}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},c=function(e,t){s()({method:"post",url:r+"/home/admin/resetpasswd",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{uuid:t.uuid}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})}},88:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a});var r="",i=function(e,t){s()({method:"post",url:r+"/home/admin/history",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json"}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},a=function(e,t){s()({method:"post",url:r+"/home/admin/edithistory",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{date:t.date,type:t.type,info:t.info,id:t.id}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})}},89:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a});var r="",i=function(e){s()({method:"post",url:r+"/home/admin/login",data:{username:e.username,password:e.password},type:"json"}).then(function(t){e.callback(t)},function(e){console.log(e)})},a=function(e){s()({method:"post",url:r+"/home/admin/logout",type:"json"}).then(function(t){e.callback(t)},function(e){console.log(e)})}},90:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i});var r="",i=function(e,t){s()({method:"post",url:r+"/home/admin/menulist",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json"}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})}},91:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"c",function(){return c});var r="",i=function(e,t){s()({method:"post",url:r+"/home/admin/getselfinfo",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json"}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},a=function(e,t){s()({method:"post",url:r+"/home/admin/editselfinfo",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{name:t.name,address:t.address,mobile:t.mobile}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},c=function(e,t){s()({method:"post",url:r+"/home/admin/resetselfpasswd",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{password:t.password,repassword:t.repassword}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})}},92:function(e,t,o){"use strict";var n=o(85),s=o.n(n);o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a});var r="",i=function(e,t){s()({method:"post",url:r+"/home/admin/team",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json"}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})},a=function(e,t){s()({method:"post",url:r+"/home/admin/editteam",headers:{"x-access-token":sessionStorage.getItem("TOKEN")},type:"json",data:{name:t.name,office:t.office,description:t.description,num:t.num,type:t.type,id:t.id}}).then(function(o){"301"==o.code?(sessionStorage.clear("TOKEN"),e.$router.replace("/login")):t.callback(o)},function(e){console.log(e)})}},93:function(e,t){},96:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(86);t.default={name:"History",data:function(){return{history:[],show:!1,newHistory:{date:"",info:"",type:"error",isNotice:!1,msg:"",loading:!1}}},created:function(){var e=this;n.a.historyAction(this,{callback:function(t){e.history=t.data}})},methods:{showAdd:function(){this.show=!0,this.newHistory.date="",this.newHistory.info=""},cancelAdd:function(){this.show=!1},editHistory:function(e){var t=this;if(this.history[e].editLoading)return!1;var o={date:this.history[e].date,info:this.history[e].info,id:this.history[e].id,type:1,callback:function(o){t.history[e].editLoading=!1,0==o.code?(t.history[e].type="success",t.history[e].msg="修改成功"):(t.history[e].type="error",t.history[e].msg=o.msg),t.history[e].isNotice=!0,setTimeout(function(){t.history[e].isNotice=!1},1e3)}};return 0===o.date.length?(this.history[e].isNotice=!0,this.history[e].msg="请填写日期",setTimeout(function(){t.history[e].isNotice=!1},1e3),!1):0===o.info.length?(this.history[e].isNotice=!0,this.form[e].msg="请填写描述",setTimeout(function(){t.history[e].isNotice=!1},2e3),!1):(this.history[e].editLoading=!0,this.history[e].isNotice=!1,void n.a.edithistoryAction(this,o))},delHistory:function(e){var t=this;if(this.history[e].delLoading)return!1;var o={id:this.history[e].id,type:2,callback:function(o){t.history[e].delLoading=!1,0==o.code?(t.history[e].type="success",t.history[e].msg="删除成功",setTimeout(function(){t.history[e].isNotice=!1},1e3),setTimeout(function(){n.a.historyAction(t,{callback:function(e){t.history=e.data}})},2e3)):(t.history[e].type="error",t.history[e].msg=o.msg),t.history[e].isNotice=!0}};this.history[e].delLoading=!0,this.history[e].isNotice=!1,n.a.edithistoryAction(this,o)},addTeam:function(){var e=this;if(this.newHistory.loading)return!1;var t={date:this.newHistory.date,info:this.newHistory.info,type:0,callback:function(t){e.newHistory.loading=!1,e.newHistory.isNotice=!0,0==t.code?(n.a.historyAction(e,{callback:function(t){e.history=t.data}}),e.newHistory.type="success",e.newHistory.msg="添加成功",setTimeout(function(){e.newHistory.isNotice=!1,e.cancelAdd()},2e3)):(e.newHistory.type="error",e.newHistory.msg=t.msg,setTimeout(function(){e.newHistory.isNotice=!1},2e3))}};return 0===t.date.length?(this.newHistory.isNotice=!0,this.newHistory.msg="请填写日期",setTimeout(function(){e.newHistory.isNotice=!1},2e3),!1):0===t.info.length?(this.newHistory.isNotice=!0,this.newHistory.msg="请填写描述",setTimeout(function(){e.newHistory.isNotice=!1},2e3),!1):(this.newHistory.loading=!0,this.newHistory.isNotice=!1,void n.a.edithistoryAction(this,t))}}}}});
//# sourceMappingURL=4.js.map