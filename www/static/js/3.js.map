{"version":3,"sources":["webpack:///static/js/3.js","webpack:///./src/components/Setting.vue","webpack:///./~/babel-runtime/helpers/extends.js?b889**","webpack:///./~/babel-runtime/core-js/object/assign.js?e6ca**","webpack:///./~/core-js/library/fn/object/assign.js?80e4**","webpack:///./~/core-js/library/modules/_object-assign.js?5c0c**","webpack:///./~/core-js/library/modules/_object-gops.js?a5fb**","webpack:///./~/core-js/library/modules/_object-pie.js?d0d2**","webpack:///./~/core-js/library/modules/es6.object.assign.js?9007**","webpack:///./src/utils/index.js?d310*","webpack:///Setting.vue","webpack:///./src/components/Setting.vue?111a","webpack:///./src/components/Setting.vue?7dfb","webpack:///./src/components/Setting.vue?e60a"],"names":["webpackJsonp","158","module","exports","__webpack_require__","Component","159","__esModule","_assign","_assign2","obj","default","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","160","161","assign","162","getKeys","gOPS","pIE","toObject","IObject","$assign","A","B","S","Symbol","K","split","forEach","k","keys","join","T","aLen","index","getSymbols","f","isEnum","concat","j","163","getOwnPropertySymbols","164","propertyIsEnumerable","165","$export","F","166","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_reqwest__","__WEBPACK_IMPORTED_MODULE_1_reqwest___default","d","updateToken","vm","payload","fn","a","resolve","reject","code","method","url","headers","x-access-refresh-token","getRefreshToken","x-access-token","getToken","type","then","res","setToken","token","data","refreshToken","refresh_token","$router","replace","171","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__utils__","name","_this","this","info","isNotice","username","mobile","address","loading","msg","password","oldpassword","newpassword","repassword","rules1","required","message","trigger","rules2","validator","rule","callback","Error","$refs","newForm","validateField","created","getSelf","computed","watch","info.isNotice","_this2","setTimeout","password.isNotice","_this3","methods","_this4","getSelfInfo","result","catch","err","handleSubmit1","_this5","form","validate","valid","console","log","editInfo","_this6","editSelfInfo","handleSubmit2","_this7","resetpasswd","_this8","resetSelfPassword","174","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","181","content","locals","191","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","rules","label","prop","$$v","expression","_v","disabled","autosize","minRows","maxRows","placeholder","on","click","directives","rawName","title","closable","show-icon","staticRenderFns"],"mappings":"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","file":"static/js/3.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(181)\n\nvar Component = __webpack_require__(62)(\n  /* script */\n  __webpack_require__(171),\n  /* template */\n  __webpack_require__(191),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _assign = __webpack_require__(160);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(161), __esModule: true };\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(165);\nmodule.exports = __webpack_require__(9).Object.assign;\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = __webpack_require__(65)\n  , gOPS     = __webpack_require__(163)\n  , pIE      = __webpack_require__(164)\n  , toObject = __webpack_require__(66)\n  , IObject  = __webpack_require__(64)\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(36)(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(35);\n\n$export($export.S + $export.F, 'Object', {assign: __webpack_require__(162)});\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reqwest__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reqwest___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_reqwest__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return updateToken; });\n\n\nvar BASE_URL =  true ? '' : 'http://localhost:8360';\nvar updateToken = function updateToken(vm, payload, fn) {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        if (payload.code === 301) {\n            return __WEBPACK_IMPORTED_MODULE_1_reqwest___default()({\n                method: 'post',\n                url: BASE_URL + '/home/public/checklogin',\n                headers: {\n                    'x-access-refresh-token': vm.getRefreshToken,\n                    'x-access-token': vm.getToken\n                },\n                type: 'json'\n            }).then(function (res) {\n                if (res.code === 0) {\n                    vm.setToken({ token: res.data.token, refreshToken: res.data.refresh_token }).then(function () {\n                        fn();\n                    });\n                } else {\n                    if (res.code === 302) {\n                        vm.$router.replace('/login');\n                    }\n                    reject(res);\n                }\n            });\n        } else {\n            reject(payload);\n        }\n    });\n};\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(159);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils__ = __webpack_require__(166);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'SETTING',\n    data: function data() {\n        var _this = this;\n\n        var validatePass = function validatePass(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('请输入密码'));\n            } else {\n                if (_this.password.repassword !== '') {\n                    _this.$refs.newForm.validateField('repassword');\n                }\n                callback();\n            }\n        };\n        var validatePass2 = function validatePass2(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('请再次输入密码'));\n            } else if (value !== _this.password.newpassword) {\n                callback(new Error('两次输入密码不一致!'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            info: {\n                isNotice: false,\n                username: '',\n                name: '',\n                mobile: '',\n                address: '',\n                loading: false,\n                msg: '',\n                type: 'error'\n            },\n            password: {\n                isNotice: false,\n                oldpassword: '',\n                loading: false,\n                newpassword: '',\n                repassword: '',\n                msg: '',\n                type: 'error'\n            },\n            rules1: {\n                name: [{ required: true, message: '请输入名称', trigger: 'blur' }]\n            },\n            rules2: {\n                oldpassword: [{ required: true, message: '请输入登录密码', trigger: 'blur' }],\n                newpassword: [{ required: true, validator: validatePass, trigger: 'blur' }],\n                repassword: [{ required: true, validator: validatePass2, trigger: 'blur' }]\n            }\n        };\n    },\n    created: function created() {\n        this.getSelf();\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapGetters */])(['getToken', 'getRefreshToken'])),\n    watch: {\n        'info.isNotice': function infoIsNotice(n) {\n            var _this2 = this;\n\n            if (n) {\n                this.info.loading = false;\n                setTimeout(function () {\n                    _this2.info.isNotice = false;\n                }, 2000);\n            }\n        },\n        'password.isNotice': function passwordIsNotice(n) {\n            var _this3 = this;\n\n            if (n) {\n                this.password.loading = false;\n                setTimeout(function () {\n                    _this3.password.isNotice = false;\n                }, 2000);\n            }\n        }\n    },\n    methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapActions */])(['setToken', 'getSelfInfo', 'editSelfInfo', 'resetSelfPassword']), {\n        getSelf: function getSelf() {\n            var _this4 = this;\n\n            this.getSelfInfo({\n                token: this.getToken\n            }).then(function (result) {\n                _this4.info.username = result.data.username;\n                _this4.info.name = result.data.name;\n                _this4.info.mobile = result.data.mobile;\n                _this4.info.address = result.data.address;\n            }).catch(function (err) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils__[\"a\" /* updateToken */])(_this4, err, _this4.getSelf);\n            });\n        },\n        handleSubmit1: function handleSubmit1() {\n            var _this5 = this;\n\n            this.$refs.form.validate(function (valid) {\n                if (valid && _this5.info.loading === false) {\n                    _this5.editInfo();\n                } else {\n                    console.log('error submit!!');\n                    return false;\n                }\n            });\n        },\n        editInfo: function editInfo() {\n            var _this6 = this;\n\n            this.info.loading = true;\n            this.editSelfInfo({\n                token: this.getToken,\n                name: this.info.name,\n                address: this.info.address,\n                mobile: this.info.mobile\n            }).then(function (result) {\n                _this6.info.type = 'success';\n                _this6.info.isNotice = true;\n                _this6.info.msg = '修改个人信息成功';\n            }).catch(function (err) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils__[\"a\" /* updateToken */])(_this6, err, _this6.editInfo).catch(function (err) {\n                    _this6.info.type = 'error';\n                    _this6.info.isNotice = true;\n                    _this6.info.msg = err.msg;\n                });\n            });\n        },\n        handleSubmit2: function handleSubmit2() {\n            var _this7 = this;\n\n            this.$refs.newForm.validate(function (valid) {\n                if (valid && _this7.password.loading === false) {\n                    _this7.resetpasswd();\n                } else {\n                    console.log('error submit!!');\n                    return false;\n                }\n            });\n        },\n        resetpasswd: function resetpasswd() {\n            var _this8 = this;\n\n            this.password.loading = true;\n            this.resetSelfPassword({\n                token: this.getToken,\n                password: this.password.oldpassword,\n                repassword: this.password.repassword\n            }).then(function (result) {\n                _this8.password.type = 'success';\n                _this8.password.isNotice = true;\n                _this8.password.msg = '修改密码成功';\n            }).catch(function (err) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils__[\"a\" /* updateToken */])(_this8, err, _this8.resetpasswd).catch(function (err) {\n                    _this8.info.type = 'error';\n                    _this8.info.isNotice = true;\n                    _this8.info.msg = err.msg;\n                });\n            });\n        }\n    })\n});\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(153)();\n// imports\n\n\n// module\nexports.push([module.i, \".setting{padding:50px 20px}.adderror{line-height:normal;opacity:1}.errorMove-enter-active{-webkit-animation:errorMove-in .5s;animation:errorMove-in .5s}.errorMove-leave-active{-webkit-animation:errorMove-out .5s;animation:errorMove-out .5s}@-webkit-keyframes errorMove-in{0%{opacity:0}to{opacity:1}}@keyframes errorMove-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes errorMove-out{0%{opacity:1}to{opacity:0}}@keyframes errorMove-out{0%{opacity:1}to{opacity:0}}\", \"\", {\"version\":3,\"sources\":[\"E:/Project/thinkjs-vue-spa-admin/webpack/src/components/Setting.vue\"],\"names\":[],\"mappings\":\"AACA,SACI,iBAAmB,CACtB,AACD,UACI,mBAAoB,AACpB,SAAW,CACd,AACD,wBACI,mCAAoC,AAC5B,0BAA4B,CACvC,AACD,wBACI,oCAAqC,AAC7B,2BAA6B,CACxC,AACD,gCACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,wBACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,iCACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,yBACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA\",\"file\":\"Setting.vue\",\"sourcesContent\":[\"\\n.setting {\\n    padding: 50px 20px;\\n}\\n.adderror {\\n    line-height: normal;\\n    opacity: 1;\\n}\\n.errorMove-enter-active {\\n    -webkit-animation: errorMove-in .5s;\\n            animation: errorMove-in .5s;\\n}\\n.errorMove-leave-active {\\n    -webkit-animation: errorMove-out .5s;\\n            animation: errorMove-out .5s;\\n}\\n@-webkit-keyframes errorMove-in {\\nfrom {\\n        opacity: 0;\\n}\\nto {\\n        opacity: 1;\\n}\\n}\\n@keyframes errorMove-in {\\nfrom {\\n        opacity: 0;\\n}\\nto {\\n        opacity: 1;\\n}\\n}\\n@-webkit-keyframes errorMove-out {\\nfrom {\\n        opacity: 1;\\n}\\nto {\\n        opacity: 0;\\n}\\n}\\n@keyframes errorMove-out {\\nfrom {\\n        opacity: 1;\\n}\\nto {\\n        opacity: 0;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(174);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(154)(\"6cafcdd8\", content, true);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Setting.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Setting.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"setting\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.info,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules1\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.info.name),\n      callback: function($$v) {\n        _vm.info.name = $$v\n      },\n      expression: \"info.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": true\n    },\n    model: {\n      value: (_vm.info.username),\n      callback: function($$v) {\n        _vm.info.username = $$v\n      },\n      expression: \"info.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"联系方式\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.info.mobile),\n      callback: function($$v) {\n        _vm.info.mobile = $$v\n      },\n      expression: \"info.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"联系地址\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 2,\n        maxRows: 4\n      },\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.info.address),\n      callback: function($$v) {\n        _vm.info.address = $$v\n      },\n      expression: \"info.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.info.loading\n    },\n    on: {\n      \"click\": _vm.handleSubmit1\n    }\n  }, [_vm._v(\"修改个人信息\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('transition', {\n    attrs: {\n      \"name\": \"errorMove\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.info.isNotice),\n      expression: \"info.isNotice\"\n    }],\n    staticClass: \"adderror\"\n  }, [_c('el-alert', {\n    attrs: {\n      \"title\": _vm.info.msg,\n      \"closable\": false,\n      \"type\": _vm.info.type,\n      \"show-icon\": \"\"\n    }\n  })], 1)])], 1)], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"newForm\",\n    attrs: {\n      \"model\": _vm.password,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules2\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"旧密码\",\n      \"prop\": \"oldpassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.oldpassword),\n      callback: function($$v) {\n        _vm.password.oldpassword = $$v\n      },\n      expression: \"password.oldpassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"新密码\",\n      \"prop\": \"newpassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.newpassword),\n      callback: function($$v) {\n        _vm.password.newpassword = $$v\n      },\n      expression: \"password.newpassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"重复密码\",\n      \"prop\": \"repassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.repassword),\n      callback: function($$v) {\n        _vm.password.repassword = $$v\n      },\n      expression: \"password.repassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"success\",\n      \"loading\": _vm.password.loading\n    },\n    on: {\n      \"click\": _vm.handleSubmit2\n    }\n  }, [_vm._v(\"修改登录密码\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('transition', {\n    attrs: {\n      \"name\": \"errorMove\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.password.isNotice),\n      expression: \"password.isNotice\"\n    }],\n    staticClass: \"adderror\"\n  }, [_c('el-alert', {\n    attrs: {\n      \"title\": _vm.password.msg,\n      \"closable\": false,\n      \"type\": _vm.password.type,\n      \"show-icon\": \"\"\n    }\n  })], 1)])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Setting.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Setting.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35bfb632\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Setting.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Setting.vue\n// module id = 158\n// module chunks = 3","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/extends.js\n// module id = 159\n// module chunks = 0 1 2 3","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/assign.js\n// module id = 160\n// module chunks = 0 1 2 3","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/assign.js\n// module id = 161\n// module chunks = 0 1 2 3","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-assign.js\n// module id = 162\n// module chunks = 0 1 2 3","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gops.js\n// module id = 163\n// module chunks = 0 1 2 3","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-pie.js\n// module id = 164\n// module chunks = 0 1 2 3","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.assign.js\n// module id = 165\n// module chunks = 0 1 2 3","import reqwest from 'reqwest';\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:8360';\r\nexport const updateToken = (vm, payload, fn) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (payload.code === 301) {\r\n            return reqwest({\r\n                method: 'post',\r\n                url: BASE_URL + '/home/public/checklogin',\r\n                headers: {\r\n                    'x-access-refresh-token': vm.getRefreshToken,\r\n                    'x-access-token': vm.getToken\r\n                },\r\n                type: 'json'\r\n            }).then(res => {\r\n                if (res.code === 0) {\r\n                    vm.setToken({ token: res.data.token, refreshToken: res.data.refresh_token }).then(() => {\r\n                        fn()\r\n                    });\r\n                } else {\r\n                    if (res.code === 302) {\r\n                        vm.$router.replace('/login')\r\n                    }\r\n                    reject(res)\r\n                }\r\n\r\n            })\r\n        } else {\r\n            reject(payload)\r\n        }\r\n    })\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","<template>\r\n    <div class=\"setting\">\r\n        <el-form ref=\"form\" :model=\"info\" label-width=\"100px\" :rules=\"rules1\">\r\n            <el-form-item label=\"姓名\" prop=\"name\">\r\n                <el-input v-model=\"info.name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\">\r\n                <el-input v-model=\"info.username\" :disabled=\"true\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系方式\">\r\n                <el-input v-model=\"info.mobile\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"联系地址\">\r\n                <el-input type=\"textarea\" :autosize=\"{ minRows: 2, maxRows: 4}\" placeholder=\"请输入内容\" v-model=\"info.address\">\r\n                </el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" :loading=\"info.loading\" @click=\"handleSubmit1\">修改个人信息</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <transition name=\"errorMove\">\r\n                    <div class=\"adderror\" v-show=\"info.isNotice\">\r\n                        <el-alert :title=\"info.msg\" :closable=\"false\" :type=\"info.type\" show-icon></el-alert>\r\n                    </div>\r\n                </transition>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-form ref=\"newForm\" :model=\"password\" label-width=\"100px\" :rules=\"rules2\">\r\n            <el-form-item label=\"旧密码\" prop=\"oldpassword\">\r\n                <el-input type=\"password\" v-model=\"password.oldpassword\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新密码\" prop=\"newpassword\">\r\n                <el-input type=\"password\" v-model=\"password.newpassword\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"重复密码\" prop=\"repassword\">\r\n                <el-input type=\"password\" v-model=\"password.repassword\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"success\" :loading=\"password.loading\" @click=\"handleSubmit2\">修改登录密码</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <transition name=\"errorMove\">\r\n                    <div class=\"adderror\" v-show=\"password.isNotice\">\r\n                        <el-alert :title=\"password.msg\" :closable=\"false\" :type=\"password.type\" show-icon></el-alert>\r\n                    </div>\r\n                </transition>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {mapGetters,mapActions} from 'vuex';\r\n    import { updateToken } from '../utils';\r\n    export default {\r\n        name: 'SETTING',\r\n        data() {\r\n            let validatePass = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入密码'));\r\n                } else {\r\n                    if (this.password.repassword !== '') {\r\n                        this.$refs.newForm.validateField('repassword');\r\n                    }\r\n                    callback();\r\n                }\r\n            };\r\n            let validatePass2 = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请再次输入密码'));\r\n                } else if (value !== this.password.newpassword) {\r\n                    callback(new Error('两次输入密码不一致!'));\r\n                } else {\r\n                    callback();\r\n                }\r\n            };\r\n            return {\r\n                info: {\r\n                    isNotice: false,\r\n                    username: '',\r\n                    name: '',\r\n                    mobile: '',\r\n                    address: '',\r\n                    loading:false,\r\n                    msg: '',\r\n                    type: 'error'\r\n                },\r\n                password: {\r\n                    isNotice: false,\r\n                    oldpassword: '',\r\n                    loading:false,\r\n                    newpassword: '',\r\n                    repassword: '',\r\n                    msg: '',\r\n                    type: 'error'\r\n                },\r\n                rules1: {\r\n                    name: [{ required: true, message: '请输入名称', trigger: 'blur' }],\r\n                },\r\n                rules2: {\r\n                    oldpassword: [{ required: true, message: '请输入登录密码', trigger: 'blur' }],\r\n                    newpassword: [{ required: true, validator: validatePass, trigger: 'blur' }],\r\n                    repassword: [{ required: true, validator: validatePass2, trigger: 'blur' }],\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.getSelf();\r\n        },\r\n        computed:{\r\n            ...mapGetters(['getToken', 'getRefreshToken'])\r\n        },\r\n        watch:{\r\n            'info.isNotice'(n){\r\n                if(n){\r\n                    this.info.loading = false;\r\n                    setTimeout(() => {\r\n                        this.info.isNotice = false;\r\n                    }, 2000)\r\n                }\r\n            },\r\n            'password.isNotice'(n){\r\n                if(n){\r\n                    this.password.loading = false;\r\n                    setTimeout(() => {\r\n                        this.password.isNotice = false;\r\n                    }, 2000)\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions(['setToken', 'getSelfInfo','editSelfInfo','resetSelfPassword']),\r\n            getSelf(){\r\n                this.getSelfInfo({\r\n                    token:this.getToken\r\n                }).then( result => {\r\n                    this.info.username = result.data.username;\r\n                    this.info.name = result.data.name;\r\n                    this.info.mobile = result.data.mobile;\r\n                    this.info.address = result.data.address;\r\n                }).catch(err => {\r\n                    updateToken(this, err ,this.getSelf)\r\n                })\r\n            },\r\n            handleSubmit1() {\r\n                this.$refs.form.validate((valid) => {\r\n                    if (valid && this.info.loading === false) {\r\n                        this.editInfo();\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            editInfo() {\r\n                this.info.loading = true;\r\n                this.editSelfInfo({\r\n                    token:this.getToken,\r\n                    name: this.info.name,\r\n                    address: this.info.address,\r\n                    mobile: this.info.mobile\r\n                }).then(result => {\r\n                    this.info.type = 'success'\r\n                    this.info.isNotice = true;\r\n                    this.info.msg = '修改个人信息成功'\r\n                }).catch( err => {\r\n                    updateToken(this, err ,this.editInfo).catch(err =>{\r\n                        this.info.type = 'error'\r\n                        this.info.isNotice = true;\r\n                        this.info.msg = err.msg\r\n                    })\r\n                })\r\n            },\r\n            handleSubmit2() {\r\n                this.$refs.newForm.validate((valid) => {\r\n                    if (valid && this.password.loading === false) {\r\n                        this.resetpasswd();\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            resetpasswd() {\r\n                this.password.loading = true;\r\n                this.resetSelfPassword({\r\n                    token:this.getToken,\r\n                    password: this.password.oldpassword,\r\n                    repassword: this.password.repassword,\r\n                }).then(result => {\r\n                    this.password.type = 'success'\r\n                    this.password.isNotice = true;\r\n                    this.password.msg = '修改密码成功'\r\n                }).catch(err => {\r\n                    updateToken(this, err ,this.resetpasswd).catch(err =>{\r\n                        this.info.type = 'error'\r\n                        this.info.isNotice = true;\r\n                        this.info.msg = err.msg\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n<style>\r\n    .setting {\r\n        padding: 50px 20px;\r\n    }\r\n    \r\n    .adderror {\r\n        line-height: normal;\r\n        opacity: 1;\r\n    }\r\n    \r\n    .errorMove-enter-active {\r\n        animation: errorMove-in .5s;\r\n    }\r\n    \r\n    .errorMove-leave-active {\r\n        animation: errorMove-out .5s;\r\n    }\r\n    \r\n    @keyframes errorMove-in {\r\n        from {\r\n            opacity: 0;\r\n        }\r\n        to {\r\n            opacity: 1;\r\n        }\r\n    }\r\n    \r\n    @keyframes errorMove-out {\r\n        from {\r\n            opacity: 1;\r\n        }\r\n        to {\r\n            opacity: 0;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Setting.vue?e206c56c","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".setting{padding:50px 20px}.adderror{line-height:normal;opacity:1}.errorMove-enter-active{-webkit-animation:errorMove-in .5s;animation:errorMove-in .5s}.errorMove-leave-active{-webkit-animation:errorMove-out .5s;animation:errorMove-out .5s}@-webkit-keyframes errorMove-in{0%{opacity:0}to{opacity:1}}@keyframes errorMove-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes errorMove-out{0%{opacity:1}to{opacity:0}}@keyframes errorMove-out{0%{opacity:1}to{opacity:0}}\", \"\", {\"version\":3,\"sources\":[\"E:/Project/thinkjs-vue-spa-admin/webpack/src/components/Setting.vue\"],\"names\":[],\"mappings\":\"AACA,SACI,iBAAmB,CACtB,AACD,UACI,mBAAoB,AACpB,SAAW,CACd,AACD,wBACI,mCAAoC,AAC5B,0BAA4B,CACvC,AACD,wBACI,oCAAqC,AAC7B,2BAA6B,CACxC,AACD,gCACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,wBACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,iCACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA,AACD,yBACA,GACQ,SAAW,CAClB,AACD,GACQ,SAAW,CAClB,CACA\",\"file\":\"Setting.vue\",\"sourcesContent\":[\"\\n.setting {\\n    padding: 50px 20px;\\n}\\n.adderror {\\n    line-height: normal;\\n    opacity: 1;\\n}\\n.errorMove-enter-active {\\n    -webkit-animation: errorMove-in .5s;\\n            animation: errorMove-in .5s;\\n}\\n.errorMove-leave-active {\\n    -webkit-animation: errorMove-out .5s;\\n            animation: errorMove-out .5s;\\n}\\n@-webkit-keyframes errorMove-in {\\nfrom {\\n        opacity: 0;\\n}\\nto {\\n        opacity: 1;\\n}\\n}\\n@keyframes errorMove-in {\\nfrom {\\n        opacity: 0;\\n}\\nto {\\n        opacity: 1;\\n}\\n}\\n@-webkit-keyframes errorMove-out {\\nfrom {\\n        opacity: 1;\\n}\\nto {\\n        opacity: 0;\\n}\\n}\\n@keyframes errorMove-out {\\nfrom {\\n        opacity: 1;\\n}\\nto {\\n        opacity: 0;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-35bfb632\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Setting.vue\n// module id = 174\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Setting.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6cafcdd8\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Setting.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-35bfb632\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Setting.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-35bfb632\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Setting.vue\n// module id = 181\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"setting\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.info,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules1\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.info.name),\n      callback: function($$v) {\n        _vm.info.name = $$v\n      },\n      expression: \"info.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": true\n    },\n    model: {\n      value: (_vm.info.username),\n      callback: function($$v) {\n        _vm.info.username = $$v\n      },\n      expression: \"info.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"联系方式\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.info.mobile),\n      callback: function($$v) {\n        _vm.info.mobile = $$v\n      },\n      expression: \"info.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"联系地址\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 2,\n        maxRows: 4\n      },\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.info.address),\n      callback: function($$v) {\n        _vm.info.address = $$v\n      },\n      expression: \"info.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.info.loading\n    },\n    on: {\n      \"click\": _vm.handleSubmit1\n    }\n  }, [_vm._v(\"修改个人信息\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('transition', {\n    attrs: {\n      \"name\": \"errorMove\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.info.isNotice),\n      expression: \"info.isNotice\"\n    }],\n    staticClass: \"adderror\"\n  }, [_c('el-alert', {\n    attrs: {\n      \"title\": _vm.info.msg,\n      \"closable\": false,\n      \"type\": _vm.info.type,\n      \"show-icon\": \"\"\n    }\n  })], 1)])], 1)], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"newForm\",\n    attrs: {\n      \"model\": _vm.password,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules2\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"旧密码\",\n      \"prop\": \"oldpassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.oldpassword),\n      callback: function($$v) {\n        _vm.password.oldpassword = $$v\n      },\n      expression: \"password.oldpassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"新密码\",\n      \"prop\": \"newpassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.newpassword),\n      callback: function($$v) {\n        _vm.password.newpassword = $$v\n      },\n      expression: \"password.newpassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"重复密码\",\n      \"prop\": \"repassword\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.password.repassword),\n      callback: function($$v) {\n        _vm.password.repassword = $$v\n      },\n      expression: \"password.repassword\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"success\",\n      \"loading\": _vm.password.loading\n    },\n    on: {\n      \"click\": _vm.handleSubmit2\n    }\n  }, [_vm._v(\"修改登录密码\")])], 1), _vm._v(\" \"), _c('el-form-item', [_c('transition', {\n    attrs: {\n      \"name\": \"errorMove\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.password.isNotice),\n      expression: \"password.isNotice\"\n    }],\n    staticClass: \"adderror\"\n  }, [_c('el-alert', {\n    attrs: {\n      \"title\": _vm.password.msg,\n      \"closable\": false,\n      \"type\": _vm.password.type,\n      \"show-icon\": \"\"\n    }\n  })], 1)])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-35bfb632\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Setting.vue\n// module id = 191\n// module chunks = 3"],"sourceRoot":""}